{"ast":null,"code":"import _toConsumableArray from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/Vietkentech/reactjs-todo-app (context)/src/Contexts/Todos.js\";\nimport React, { Component } from \"react\";\nimport uuid from \"uuid\";\nexport var TodosContext = React.createContext({\n  todos: [],\n  filteredTodos: [],\n  createTodo: function createTodo() {},\n  updateTodo: function updateTodo() {},\n  filter: false,\n  toggleFilter: function toggleFilter() {},\n  filterTodos: function filterTodos() {},\n  clearCompletedTodo: function clearCompletedTodo() {},\n  toggleAllTodo: function toggleAllTodo() {},\n  getUndoneTodo: function getUndoneTodo() {}\n});\nexport var todoFilters = [{\n  name: \"showAll\",\n  filterTodos: function filterTodos(todos) {\n    return todos;\n  }\n}, {\n  name: \"showActive\",\n  filterTodos: function filterTodos(todos) {\n    return todos.filter(function (_ref) {\n      var isDone = _ref.isDone;\n      return !isDone;\n    });\n  }\n}, {\n  name: \"showCompleted\",\n  filterTodos: function filterTodos(todos) {\n    return todos.filter(function (_ref2) {\n      var isDone = _ref2.isDone;\n      return isDone;\n    });\n  }\n}];\n\nvar TodosContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TodosContainer, _Component);\n\n  function TodosContainer(props) {\n    var _this;\n\n    _classCallCheck(this, TodosContainer);\n\n    var _todos = [{\n      id: 0,\n      isDone: false,\n      name: \"TodoItem 1\"\n    }, {\n      id: 1,\n      isDone: true,\n      name: \"TodoItem 2\"\n    }];\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TodosContainer).call(this, props));\n\n    _this.createTodo = function (name) {\n      var todos = [].concat(_toConsumableArray(_this.state.todos), [{\n        id: uuid(),\n        isDone: false,\n        name: name\n      }]);\n\n      _this.setState({\n        todos: todos\n      }, _this.filterTodos);\n    };\n\n    _this.updateTodo = function (todo) {\n      var todos = _this.state.todos;\n      var index = todos.map(function (todo) {\n        return todo.id;\n      }).indexOf(todo.id);\n      todos[index] = todo;\n\n      _this.setState({\n        todos: todos\n      }, _this.filterTodos);\n    };\n\n    _this.filterTodos = function () {\n      var filter = _this.state.filter;\n      var todos = _this.state.todos;\n\n      _this.setState({\n        filteredTodos: filter.filterTodos(todos)\n      });\n    };\n\n    _this.toggleFilter = function (index) {\n      var currentFilter = todoFilters[index];\n\n      _this.setState({\n        filter: currentFilter\n      }, _this.filterTodos);\n    };\n\n    _this.filterTodos = function () {\n      var _this$state = _this.state,\n          filter = _this$state.filter,\n          todos = _this$state.todos;\n\n      _this.setState({\n        filteredTodos: filter.filterTodos(todos)\n      });\n    };\n\n    _this.clearCompletedTodo = function () {\n      var todos = _this.state.todos;\n\n      _this.setState({\n        todos: todos.filter(function (_ref3) {\n          var isDone = _ref3.isDone;\n          return !isDone;\n        })\n      }, _this.filterTodos);\n    };\n\n    _this.toggleAllTodo = function () {\n      var _this$state2 = _this.state,\n          todos = _this$state2.todos,\n          toggleStatus = _this$state2.toggleStatus;\n\n      _this.setState({\n        // you are not using isDone\n        todos: todos.map(function (_ref4) {\n          var id = _ref4.id,\n              isDone = _ref4.isDone,\n              name = _ref4.name;\n          return {\n            id: id,\n            isDone: !toggleStatus,\n            name: name\n          };\n        }),\n        toggleStatus: !toggleStatus\n      }, _this.filterTodos);\n    };\n\n    _this.getUndoneTodo = function () {\n      var filteredTodos = _this.state.filteredTodos;\n      return filteredTodos.filter(function (_ref5) {\n        var isDone = _ref5.isDone;\n        return !isDone;\n      }).length;\n    };\n\n    _this.state = {\n      todos: _todos,\n      filteredTodos: _todos,\n      filter: todoFilters[0],\n      toggleStatus: false\n    };\n    return _this;\n  }\n\n  _createClass(TodosContainer, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(TodosContext.Provider, {\n        value: {\n          todos: this.state.todos,\n          createTodo: this.createTodo,\n          updateTodo: this.updateTodo,\n          filteredTodos: this.state.filteredTodos,\n          filter: this.state.filter,\n          toggleFilter: this.toggleFilter,\n          filterTodos: this.filterTodos,\n          clearCompletedTodo: this.clearCompletedTodo,\n          toggleAllTodo: this.toggleAllTodo,\n          getUndoneTodo: this.getUndoneTodo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return TodosContainer;\n}(Component);\n\nexport { TodosContainer as default };\nexport var InputBarContainer =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(InputBarContainer, _Component2);\n\n  function InputBarContainer() {\n    _classCallCheck(this, InputBarContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(InputBarContainer).apply(this, arguments));\n  }\n\n  return InputBarContainer;\n}(Component);","map":{"version":3,"sources":["/var/www/Vietkentech/reactjs-todo-app (context)/src/Contexts/Todos.js"],"names":["React","Component","uuid","TodosContext","createContext","todos","filteredTodos","createTodo","updateTodo","filter","toggleFilter","filterTodos","clearCompletedTodo","toggleAllTodo","getUndoneTodo","todoFilters","name","isDone","TodosContainer","props","id","state","setState","todo","index","map","indexOf","currentFilter","toggleStatus","length","children","InputBarContainer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport uuid from \"uuid\";\n\nexport const TodosContext = React.createContext({\n  todos: [],\n  filteredTodos: [],\n  createTodo: () => {},\n  updateTodo: () => {},\n  filter: false,\n  toggleFilter: () => {},\n  filterTodos: () => {},\n  clearCompletedTodo: () => {},\n  toggleAllTodo: () => {},\n  getUndoneTodo: () => {}\n});\n\nexport const todoFilters = [\n  {\n    name: \"showAll\",\n    filterTodos: todos => todos\n  },\n  {\n    name: \"showActive\",\n    filterTodos: todos => todos.filter(({ isDone }) => !isDone)\n  },\n  {\n    name: \"showCompleted\",\n    filterTodos: todos => todos.filter(({ isDone }) => isDone)\n  }\n];\n\nexport default class TodosContainer extends Component {\n  constructor(props) {\n    const todos = [\n      {\n        id: 0,\n        isDone: false,\n        name: \"TodoItem 1\"\n      },\n      {\n        id: 1,\n        isDone: true,\n        name: \"TodoItem 2\"\n      }\n    ];\n    super(props);\n    this.state = {\n      todos,\n      filteredTodos: todos,\n      filter: todoFilters[0],\n      toggleStatus: false\n    };\n  }\n\n  createTodo = name => {\n    const todos = [...this.state.todos, { id: uuid(), isDone: false, name }];\n    this.setState(\n      {\n        todos: todos\n      },\n      this.filterTodos\n    );\n  };\n\n  updateTodo = todo => {\n    let { todos } = this.state;\n    const index = todos.map(todo => todo.id).indexOf(todo.id);\n    todos[index] = todo;\n    this.setState(\n      {\n        todos\n      },\n      this.filterTodos\n    );\n  };\n\n  filterTodos = () => {\n    const { filter } = this.state;\n    const { todos } = this.state;\n    this.setState({\n      filteredTodos: filter.filterTodos(todos)\n    });\n  };\n\n  toggleFilter = index => {\n    const currentFilter = todoFilters[index];\n    this.setState(\n      {\n        filter: currentFilter\n      },\n      this.filterTodos\n    );\n  };\n\n  filterTodos = () => {\n    const { filter, todos } = this.state;\n    this.setState({\n      filteredTodos: filter.filterTodos(todos)\n    });\n  };\n\n  clearCompletedTodo = () => {\n    let { todos } = this.state;\n    this.setState(\n      {\n        todos: todos.filter(({ isDone }) => !isDone)\n      },\n      this.filterTodos\n    );\n  };\n\n  toggleAllTodo = () => {\n    let { todos, toggleStatus } = this.state;\n    this.setState(\n      {\n        // you are not using isDone\n        todos: todos.map(({ id, isDone, name }) => ({\n          id,\n          isDone: !toggleStatus,\n          name\n        })),\n        toggleStatus: !toggleStatus\n      },\n      this.filterTodos\n    );\n  };\n\n  getUndoneTodo = () => {\n    const { filteredTodos } = this.state;\n    return filteredTodos.filter(({ isDone }) => !isDone).length;\n  };\n\n  render() {\n    return (\n      <TodosContext.Provider\n        value={{\n          todos: this.state.todos,\n          createTodo: this.createTodo,\n          updateTodo: this.updateTodo,\n          filteredTodos: this.state.filteredTodos,\n          filter: this.state.filter,\n          toggleFilter: this.toggleFilter,\n          filterTodos: this.filterTodos,\n          clearCompletedTodo: this.clearCompletedTodo,\n          toggleAllTodo: this.toggleAllTodo,\n          getUndoneTodo: this.getUndoneTodo\n        }}\n      >\n        {this.props.children}\n      </TodosContext.Provider>\n    );\n  }\n}\n\nexport class InputBarContainer extends Component {\n  \n}"]},"metadata":{},"sourceType":"module"}